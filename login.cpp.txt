#include <stdio.h>
#include <stdlib.h>
#include <conio.h>

#define MAX_ATTEMPTS 3
#define PASSW 8888
#define DIGITS 4

int main()
{
    int i,efforts=0,code,times=1;
    char c,zero='0';
    
    do 
       {
       if ( efforts > 0 )
          printf("\nYou have %1d attempts left.\n", 3-efforts );
          
       printf(" Please enter your password [XXXX]");
       for (i=0; i<=DIGITS; i++)
           printf("\b");
           
       code = 0;
       for (i=0, times=1; i<DIGITS; i++, times *= 10)   
           {
           c=getch();
           code += ( (c-zero)*times );
           putchar('*');
          //  printf("%d\n",code);
           }
       efforts++;
       }
    while ( (efforts < 3) && (code != PASSW) );
    
    if ( code == PASSW )
       printf("\nACCESS GRANTED\n");
    else
        printf("ACCESS DENIED\n");
        
    system("PAUSE");
    return(0);
}
